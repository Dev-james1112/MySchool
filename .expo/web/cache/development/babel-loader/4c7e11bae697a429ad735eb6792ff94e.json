{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = memoize;\n\nfunction memoize(callback) {\n  var previous;\n  var result;\n  return function () {\n    var hasChanged = false;\n\n    for (var _len = arguments.length, dependencies = new Array(_len), _key = 0; _key < _len; _key++) {\n      dependencies[_key] = arguments[_key];\n    }\n\n    if (previous) {\n      if (previous.length !== dependencies.length) {\n        hasChanged = true;\n      } else {\n        for (var i = 0; i < previous.length; i++) {\n          if (previous[i] !== dependencies[i]) {\n            hasChanged = true;\n            break;\n          }\n        }\n      }\n    } else {\n      hasChanged = true;\n    }\n\n    previous = dependencies;\n\n    if (hasChanged || result === undefined) {\n      result = callback.apply(void 0, dependencies);\n    }\n\n    return result;\n  };\n}","map":{"version":3,"mappings":";;;;;AAAe,SAASA,OAAT,CACbC,QADa,EAEb;EACA,IAAIC,QAAJ;EACA,IAAIC,MAAJ;EAEA,OAAO,YAAmC;IACxC,IAAIC,UAAU,GAAG,KAAjB;;IADwC,kCAA/BC,YAA+B;MAA/BA,YAA+B,MAA/BA,GAA+BC,eAA/BD;IAA+B;;IAGxC,IAAIH,QAAJ,EAAc;MACZ,IAAIA,QAAQ,CAACK,MAATL,KAAoBG,YAAY,CAACE,MAArC,EAA6C;QAC3CH,UAAU,GAAG,IAAbA;MADF,OAEO;QACL,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,QAAQ,CAACK,MAA7B,EAAqCC,CAAC,EAAtC,EAA0C;UACxC,IAAIN,QAAQ,CAACM,CAAD,CAARN,KAAgBG,YAAY,CAACG,CAAD,CAAhC,EAAqC;YACnCJ,UAAU,GAAG,IAAbA;YACA;UACD;QACF;MACF;IAVH,OAWO;MACLA,UAAU,GAAG,IAAbA;IACD;;IAEDF,QAAQ,GAAGG,YAAXH;;IAEA,IAAIE,UAAU,IAAID,MAAM,KAAKM,SAA7B,EAAwC;MACtCN,MAAM,GAAGF,QAAQ,MAARA,SAAYI,YAAZJ,CAATE;IACD;;IAED,OAAOA,MAAP;EAxBF;AA0BD","names":["memoize","callback","previous","result","hasChanged","dependencies","arguments","length","i","undefined"],"sources":["memoize.tsx"],"sourcesContent":["export default function memoize<Result, Deps extends readonly any[]>(\n  callback: (...deps: Deps) => Result\n) {\n  let previous: Deps | undefined;\n  let result: Result | undefined;\n\n  return (...dependencies: Deps): Result => {\n    let hasChanged = false;\n\n    if (previous) {\n      if (previous.length !== dependencies.length) {\n        hasChanged = true;\n      } else {\n        for (let i = 0; i < previous.length; i++) {\n          if (previous[i] !== dependencies[i]) {\n            hasChanged = true;\n            break;\n          }\n        }\n      }\n    } else {\n      hasChanged = true;\n    }\n\n    previous = dependencies;\n\n    if (hasChanged || result === undefined) {\n      result = callback(...dependencies);\n    }\n\n    return result;\n  };\n}\n"]},"metadata":{},"sourceType":"script"}