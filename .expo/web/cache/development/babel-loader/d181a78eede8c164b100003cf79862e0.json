{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _expoModulesCore = require(\"expo-modules-core\");\n\nvar LOCAL_STORAGE_KEY = 'EXPO_ERROR_RECOVERY_STORAGE';\n\nfunction _consumeRecoveryProps() {\n  if (!_expoModulesCore.Platform.isDOMAvailable) return null;\n\n  try {\n    var props = localStorage.getItem(LOCAL_STORAGE_KEY);\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    return props;\n  } catch (_unused) {}\n\n  return null;\n}\n\nvar _default = {\n  get name() {\n    return 'ExpoErrorRecovery';\n  },\n\n  saveRecoveryProps: function saveRecoveryProps(props) {\n    if (!_expoModulesCore.Platform.isDOMAvailable) return;\n\n    try {\n      localStorage.setItem(LOCAL_STORAGE_KEY, props);\n    } catch (_unused2) {}\n  },\n  recoveredProps: _consumeRecoveryProps()\n};\nexports.default = _default;","map":{"version":3,"mappings":";;;;;AAAA;;AACA,IAAMA,iBAAiB,GAAG,6BAA1B;;AAEA,SAASC,qBAAT,GAA8B;EAC5B,IAAI,CAACC,0BAASC,cAAd,EAA8B,OAAO,IAAP;;EAC9B,IAAI;IACF,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqBN,iBAArB,CAAd;IACAK,YAAY,CAACE,UAAb,CAAwBP,iBAAxB;IACA,OAAOI,KAAP;EACD,CAJD,CAIE,gBAAM,CAEP;;EACD,OAAO,IAAP;AACD;;eAEc;EACb,IAAII,IAAJ,GAAQ;IACN,OAAO,mBAAP;EACD,CAHY;;EAKbC,iBALa,6BAKKL,KALL,EAKkB;IAC7B,IAAI,CAACF,0BAASC,cAAd,EAA8B;;IAC9B,IAAI;MACFE,YAAY,CAACK,OAAb,CAAqBV,iBAArB,EAAwCI,KAAxC;IACD,CAFD,CAEE,iBAAM,CAEP;EACF,CAZY;EAcbO,cAAc,EAAEV,qBAAqB;AAdxB,C","names":["LOCAL_STORAGE_KEY","_consumeRecoveryProps","Platform","isDOMAvailable","props","localStorage","getItem","removeItem","name","saveRecoveryProps","setItem","recoveredProps"],"sourceRoot":"","sources":["../src/ExpoErrorRecovery.web.ts"],"sourcesContent":["import { Platform } from 'expo-modules-core';\nconst LOCAL_STORAGE_KEY = 'EXPO_ERROR_RECOVERY_STORAGE';\n\nfunction _consumeRecoveryProps(): string | null {\n  if (!Platform.isDOMAvailable) return null;\n  try {\n    const props = localStorage.getItem(LOCAL_STORAGE_KEY);\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    return props;\n  } catch {\n    // Catches localStorage SecurityError https://github.com/expo/expo/issues/8355\n  }\n  return null;\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoErrorRecovery';\n  },\n\n  saveRecoveryProps(props: string): void {\n    if (!Platform.isDOMAvailable) return;\n    try {\n      localStorage.setItem(LOCAL_STORAGE_KEY, props);\n    } catch {\n      // Catches localStorage SecurityError https://github.com/expo/expo/issues/8355\n    }\n  },\n\n  recoveredProps: _consumeRecoveryProps(),\n};\n"]},"metadata":{},"sourceType":"script"}