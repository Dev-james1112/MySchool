{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorType = void 0;\nexports.useAnimatedSensor = useAnimatedSensor;\n\nvar _react = require(\"react\");\n\nvar _core = require(\"../core\");\n\nvar _NativeReanimated = _interopRequireDefault(require(\"../NativeReanimated\"));\n\nvar SensorType;\nexports.SensorType = SensorType;\n\n(function (SensorType) {\n  SensorType[SensorType[\"ACCELEROMETER\"] = 1] = \"ACCELEROMETER\";\n  SensorType[SensorType[\"GYROSCOPE\"] = 2] = \"GYROSCOPE\";\n  SensorType[SensorType[\"GRAVITY\"] = 3] = \"GRAVITY\";\n  SensorType[SensorType[\"MAGNETIC_FIELD\"] = 4] = \"MAGNETIC_FIELD\";\n  SensorType[SensorType[\"ROTATION\"] = 5] = \"ROTATION\";\n})(SensorType || (exports.SensorType = SensorType = {}));\n\nfunction useAnimatedSensor(sensorType, userConfig) {\n  var ref = (0, _react.useRef)({\n    sensor: null,\n    unregister: function unregister() {},\n    isAvailable: false,\n    config: {\n      interval: 0\n    }\n  });\n\n  if (ref.current.sensor === null) {\n    ref.current.config = Object.assign({\n      interval: 10\n    }, userConfig);\n    var sensorData;\n\n    if (sensorType === SensorType.ROTATION) {\n      sensorData = {\n        qw: 0,\n        qx: 0,\n        qy: 0,\n        qz: 0,\n        yaw: 0,\n        pitch: 0,\n        roll: 0\n      };\n    } else {\n      sensorData = {\n        x: 0,\n        y: 0,\n        z: 0\n      };\n    }\n\n    ref.current.sensor = (0, _core.makeMutable)(sensorData);\n  }\n\n  (0, _react.useEffect)(function () {\n    ref.current.config = Object.assign({\n      interval: 10\n    }, userConfig);\n\n    var id = _NativeReanimated.default.registerSensor(sensorType, ref.current.config.interval, ref.current.sensor);\n\n    if (id !== -1) {\n      ref.current.unregister = function () {\n        return _NativeReanimated.default.unregisterSensor(id);\n      };\n\n      ref.current.isAvailable = true;\n    } else {\n      ref.current.unregister = function () {};\n\n      ref.current.isAvailable = false;\n    }\n\n    return function () {\n      ref.current.unregister();\n    };\n  }, [sensorType, userConfig]);\n  return ref.current;\n}","map":{"version":3,"names":["SensorType","useAnimatedSensor","sensorType","userConfig","ref","useRef","sensor","unregister","isAvailable","config","interval","current","Object","assign","sensorData","ROTATION","qw","qx","qy","qz","yaw","pitch","roll","x","y","z","makeMutable","useEffect","id","NativeReanimated","registerSensor","unregisterSensor"],"sources":["C:/.project/today_meal/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedSensor.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { makeMutable } from '../core';\nimport NativeReanimated from '../NativeReanimated';\nexport var SensorType;\n(function (SensorType) {\n    SensorType[SensorType[\"ACCELEROMETER\"] = 1] = \"ACCELEROMETER\";\n    SensorType[SensorType[\"GYROSCOPE\"] = 2] = \"GYROSCOPE\";\n    SensorType[SensorType[\"GRAVITY\"] = 3] = \"GRAVITY\";\n    SensorType[SensorType[\"MAGNETIC_FIELD\"] = 4] = \"MAGNETIC_FIELD\";\n    SensorType[SensorType[\"ROTATION\"] = 5] = \"ROTATION\";\n})(SensorType || (SensorType = {}));\nexport function useAnimatedSensor(sensorType, userConfig) {\n    const ref = useRef({\n        sensor: null,\n        unregister: () => {\n            // NOOP\n        },\n        isAvailable: false,\n        config: {\n            interval: 0,\n        },\n    });\n    if (ref.current.sensor === null) {\n        ref.current.config = Object.assign({ interval: 10 }, userConfig);\n        let sensorData;\n        if (sensorType === SensorType.ROTATION) {\n            sensorData = {\n                qw: 0,\n                qx: 0,\n                qy: 0,\n                qz: 0,\n                yaw: 0,\n                pitch: 0,\n                roll: 0,\n            };\n        }\n        else {\n            sensorData = {\n                x: 0,\n                y: 0,\n                z: 0,\n            };\n        }\n        ref.current.sensor = makeMutable(sensorData);\n    }\n    useEffect(() => {\n        ref.current.config = Object.assign({ interval: 10 }, userConfig);\n        const id = NativeReanimated.registerSensor(sensorType, ref.current.config.interval, ref.current.sensor);\n        if (id !== -1) {\n            // if sensor is available\n            ref.current.unregister = () => NativeReanimated.unregisterSensor(id);\n            ref.current.isAvailable = true;\n        }\n        else {\n            // if sensor is unavailable\n            ref.current.unregister = () => {\n                // NOOP\n            };\n            ref.current.isAvailable = false;\n        }\n        return () => {\n            ref.current.unregister();\n        };\n    }, [sensorType, userConfig]);\n    return ref.current;\n}\n"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACO,IAAIA,UAAJ;;;AACP,CAAC,UAAUA,UAAV,EAAsB;EACnBA,UAAU,CAACA,UAAU,CAAC,eAAD,CAAV,GAA8B,CAA/B,CAAV,GAA8C,eAA9C;EACAA,UAAU,CAACA,UAAU,CAAC,WAAD,CAAV,GAA0B,CAA3B,CAAV,GAA0C,WAA1C;EACAA,UAAU,CAACA,UAAU,CAAC,SAAD,CAAV,GAAwB,CAAzB,CAAV,GAAwC,SAAxC;EACAA,UAAU,CAACA,UAAU,CAAC,gBAAD,CAAV,GAA+B,CAAhC,CAAV,GAA+C,gBAA/C;EACAA,UAAU,CAACA,UAAU,CAAC,UAAD,CAAV,GAAyB,CAA1B,CAAV,GAAyC,UAAzC;AACH,CAND,EAMGA,UAAU,0BAAKA,UAAU,GAAG,EAAlB,CANb;;AAOO,SAASC,iBAAT,CAA2BC,UAA3B,EAAuCC,UAAvC,EAAmD;EACtD,IAAMC,GAAG,GAAG,IAAAC,aAAA,EAAO;IACfC,MAAM,EAAE,IADO;IAEfC,UAAU,EAAE,sBAAM,CAEjB,CAJc;IAKfC,WAAW,EAAE,KALE;IAMfC,MAAM,EAAE;MACJC,QAAQ,EAAE;IADN;EANO,CAAP,CAAZ;;EAUA,IAAIN,GAAG,CAACO,OAAJ,CAAYL,MAAZ,KAAuB,IAA3B,EAAiC;IAC7BF,GAAG,CAACO,OAAJ,CAAYF,MAAZ,GAAqBG,MAAM,CAACC,MAAP,CAAc;MAAEH,QAAQ,EAAE;IAAZ,CAAd,EAAgCP,UAAhC,CAArB;IACA,IAAIW,UAAJ;;IACA,IAAIZ,UAAU,KAAKF,UAAU,CAACe,QAA9B,EAAwC;MACpCD,UAAU,GAAG;QACTE,EAAE,EAAE,CADK;QAETC,EAAE,EAAE,CAFK;QAGTC,EAAE,EAAE,CAHK;QAITC,EAAE,EAAE,CAJK;QAKTC,GAAG,EAAE,CALI;QAMTC,KAAK,EAAE,CANE;QAOTC,IAAI,EAAE;MAPG,CAAb;IASH,CAVD,MAWK;MACDR,UAAU,GAAG;QACTS,CAAC,EAAE,CADM;QAETC,CAAC,EAAE,CAFM;QAGTC,CAAC,EAAE;MAHM,CAAb;IAKH;;IACDrB,GAAG,CAACO,OAAJ,CAAYL,MAAZ,GAAqB,IAAAoB,iBAAA,EAAYZ,UAAZ,CAArB;EACH;;EACD,IAAAa,gBAAA,EAAU,YAAM;IACZvB,GAAG,CAACO,OAAJ,CAAYF,MAAZ,GAAqBG,MAAM,CAACC,MAAP,CAAc;MAAEH,QAAQ,EAAE;IAAZ,CAAd,EAAgCP,UAAhC,CAArB;;IACA,IAAMyB,EAAE,GAAGC,yBAAA,CAAiBC,cAAjB,CAAgC5B,UAAhC,EAA4CE,GAAG,CAACO,OAAJ,CAAYF,MAAZ,CAAmBC,QAA/D,EAAyEN,GAAG,CAACO,OAAJ,CAAYL,MAArF,CAAX;;IACA,IAAIsB,EAAE,KAAK,CAAC,CAAZ,EAAe;MAEXxB,GAAG,CAACO,OAAJ,CAAYJ,UAAZ,GAAyB;QAAA,OAAMsB,yBAAA,CAAiBE,gBAAjB,CAAkCH,EAAlC,CAAN;MAAA,CAAzB;;MACAxB,GAAG,CAACO,OAAJ,CAAYH,WAAZ,GAA0B,IAA1B;IACH,CAJD,MAKK;MAEDJ,GAAG,CAACO,OAAJ,CAAYJ,UAAZ,GAAyB,YAAM,CAE9B,CAFD;;MAGAH,GAAG,CAACO,OAAJ,CAAYH,WAAZ,GAA0B,KAA1B;IACH;;IACD,OAAO,YAAM;MACTJ,GAAG,CAACO,OAAJ,CAAYJ,UAAZ;IACH,CAFD;EAGH,CAlBD,EAkBG,CAACL,UAAD,EAAaC,UAAb,CAlBH;EAmBA,OAAOC,GAAG,CAACO,OAAX;AACH"},"metadata":{},"sourceType":"script"}